<div class="flex flex-wrap gap-4 p-6">
  <!-- To Do Column -->
  <div class="w-full sm:w-1/3 lg:w-1/4 p-2">
    <div class="bg-gray-100 rounded-lg shadow-lg p-4 border-2 border-dashed border-gray-300">
      <h3 class="text-xl font-bold text-center text-gray-700 mb-4">To Do</h3>

      <!-- Add New Task Button -->
      <button 
        (click)="showForm = !showForm" 
        class="bg-blue-500 text-white px-4 py-2 rounded-lg shadow-md hover:bg-blue-600 w-full mb-4">
        {{ showForm ? 'Cancel' : 'Add New Task' }}
      </button>

      <!-- New Task Form -->
      <div *ngIf="showForm" class="bg-white p-4 rounded-lg shadow-md border border-gray-300 mb-4">
        <input 
          type="text" 
          [(ngModel)]="newTask.title" 
          placeholder="Title" 
          class="w-full mb-2 px-3 py-2 border border-gray-300 rounded-lg">
        
       
        
        <input 
          type="number" 
          [(ngModel)]="newTask.priority" 
          placeholder="Priority (e.g., 1)" 
          class="w-full mb-2 px-3 py-2 border border-gray-300 rounded-lg">
        
        <input 
          type="text" 
          [(ngModel)]="newTask.duration" 
          placeholder="Duration (e.g., 2 days)" 
          class="w-full mb-2 px-3 py-2 border border-gray-300 rounded-lg">
        
        <input 
          type="number" 
          [(ngModel)]="newTask.project.id" 
          placeholder="Project ID" 
          class="w-full mb-4 px-3 py-2 border border-gray-300 rounded-lg">
        
        <input 
          type="number" 
          [(ngModel)]="newTask.user.id" 
          placeholder="User ID" 
          class="w-full mb-4 px-3 py-2 border border-gray-300 rounded-lg">
        
        <button 
          (click)="add()" 
          class="bg-green-500 text-white px-4 py-2 rounded-lg shadow-md hover:bg-green-600 w-full">
          Add Task
        </button>
      </div>

      <!-- Task List -->
      <div 
        cdkDropList 
        id="todoList" 
        [cdkDropListData]="todoTasks" 
        (cdkDropListDropped)="drop($event)" 
        class="space-y-4 min-h-[200px] bg-white p-4 rounded-lg shadow-inner">
        
        <!-- Task Items -->
        <div 
          *ngFor="let task of todoTasks" 
          cdkDrag 
          class="bg-gray-50 p-4 rounded-lg shadow-md hover:shadow-lg border border-gray-300 cursor-pointer">
          <h4 class="text-lg font-semibold text-gray-900">{{ task.title }}</h4>
          <p class="text-sm text-gray-600">Duration: {{ task.duration }}</p>
          <p class="text-sm text-gray-500">Priority: {{ task.priority }}</p>

          <!-- Delete Button -->
          <button 
            (click)="delete(task.id)" 
            class="bg-red-500 text-white px-4 py-2 rounded-lg shadow-md hover:bg-red-600 mt-2">
            Delete
          </button>
        </div>
        
        <!-- No Tasks Placeholder -->
        <div *ngIf="todoTasks.length === 0" class="text-gray-500 text-center mt-4">
          No tasks available.
        </div>
      </div>
    </div>
  </div>

  <!-- Doing Column -->
  <div class="w-full sm:w-1/3 lg:w-1/4 p-2">
    <div class="bg-gray-100 rounded-lg shadow-lg p-4 border-2 border-dashed border-gray-300">
      <h3 class="text-xl font-bold text-center text-gray-700 mb-4">Doing</h3>

      <!-- Add New Task Button -->
      <button 
        (click)="showForm2 = !showForm2" 
        class="bg-blue-500 text-white px-4 py-2 rounded-lg shadow-md hover:bg-blue-600 w-full mb-4">
        {{ showForm2 ? 'Cancel' : 'Add New Task' }}
      </button>

      <!-- New Task Form -->
      <div *ngIf="showForm2" class="bg-white p-4 rounded-lg shadow-md border border-gray-300 mb-4">
        <input 
          type="text" 
          [(ngModel)]="newTask.title" 
          placeholder="Title" 
          class="w-full mb-2 px-3 py-2 border border-gray-300 rounded-lg">
        
      
        
        <input 
          type="number" 
          [(ngModel)]="newTask.priority" 
          placeholder="Priority (e.g., 1)" 
          class="w-full mb-2 px-3 py-2 border border-gray-300 rounded-lg">
        
        <input 
          type="text" 
          [(ngModel)]="newTask.duration" 
          placeholder="Duration (e.g., 2 days)" 
          class="w-full mb-2 px-3 py-2 border border-gray-300 rounded-lg">
        
        <input 
          type="number" 
          [(ngModel)]="newTask.project.id" 
          placeholder="Project ID" 
          class="w-full mb-4 px-3 py-2 border border-gray-300 rounded-lg">
        
        <input 
          type="number" 
          [(ngModel)]="newTask.user.id" 
          placeholder="User ID" 
          class="w-full mb-4 px-3 py-2 border border-gray-300 rounded-lg">
        
        <button 
          (click)="add()" 
          class="bg-green-500 text-white px-4 py-2 rounded-lg shadow-md hover:bg-green-600 w-full">
          Add Task
        </button>
      </div>

      <!-- Task List -->
      <div 
        cdkDropList 
        id="doingList" 
        [cdkDropListData]="doingTasks" 
        (cdkDropListDropped)="drop($event)" 
        class="space-y-4 min-h-[200px] bg-white p-4 rounded-lg shadow-inner">
        
        <!-- Task Items -->
        <div 
          *ngFor="let task of doingTasks" 
          cdkDrag 
          class="bg-gray-50 p-4 rounded-lg shadow-md hover:shadow-lg border border-gray-300 cursor-pointer">
          <h4 class="text-lg font-semibold text-gray-900">{{ task.title }}</h4>
          <p class="text-sm text-gray-600">Duration: {{ task.duration }}</p>
          <p class="text-sm text-gray-500">Priority: {{ task.priority }}</p>

          <!-- Delete Button -->
          <button 
            (click)="delete(task.id)" 
            class="bg-red-500 text-white px-4 py-2 rounded-lg shadow-md hover:bg-red-600 mt-2">
            Delete
          </button>
        </div>
        
        <!-- No Tasks Placeholder -->
        <div *ngIf="doingTasks.length === 0" class="text-gray-500 text-center mt-4">
          No tasks available.
        </div>
      </div>
    </div>
  </div>

  <!-- Done Column -->
  <div class="w-full sm:w-1/3 lg:w-1/4 p-2">
    <div class="bg-gray-100 rounded-lg shadow-lg p-4 border-2 border-dashed border-gray-300">
      <h3 class="text-xl font-bold text-center text-gray-700 mb-4">Done</h3>

      <!-- Add New Task Button -->
      <button 
        (click)="showForm3 = !showForm3" 
        class="bg-blue-500 text-white px-4 py-2 rounded-lg shadow-md hover:bg-blue-600 w-full mb-4">
        {{ showForm3 ? 'Cancel' : 'Add New Task' }}
      </button>

      <!-- New Task Form -->
      <div *ngIf="showForm3" class="bg-white p-4 rounded-lg shadow-md border border-gray-300 mb-4">
        <input 
          type="text" 
          [(ngModel)]="newTask.title" 
          placeholder="Title" 
          class="w-full mb-2 px-3 py-2 border border-gray-300 rounded-lg">
        
        <input 
          type="number" 
          [(ngModel)]="newTask.priority" 
          placeholder="Priority (e.g., 1)" 
          class="w-full mb-2 px-3 py-2 border border-gray-300 rounded-lg">
        
        <input 
          type="text" 
          [(ngModel)]="newTask.duration" 
          placeholder="Duration (e.g., 2 days)" 
          class="w-full mb-2 px-3 py-2 border border-gray-300 rounded-lg">
        
        <select 
          [(ngModel)]="newTask.project.id" 
          class="w-full mb-4 px-3 py-2 border border-gray-300 rounded-lg">
          <option *ngFor="let project of Projects" [value]="project.id">
            {{ project.name }}
          </option>
        </select>
        
        <input 
          type="number" 
          [(ngModel)]="newTask.user.id" 
          placeholder="User ID" 
          class="w-full mb-4 px-3 py-2 border border-gray-300 rounded-lg">
        
        <button 
          (click)="add()" 
          class="bg-green-500 text-white px-4 py-2 rounded-lg shadow-md hover:bg-green-600 w-full">
          Add Task
        </button>
      </div>
      
      <!-- Task List -->
      <div 
        cdkDropList 
        id="doneList" 
        [cdkDropListData]="doneTasks" 
        (cdkDropListDropped)="drop($event)" 
        class="space-y-4 min-h-[200px] bg-white p-4 rounded-lg shadow-inner">
        
        <!-- Task Items -->
        <div 
          *ngFor="let task of doneTasks" 
          cdkDrag 
          class="bg-gray-50 p-4 rounded-lg shadow-md hover:shadow-lg border border-gray-300 cursor-pointer">
          <h4 class="text-lg font-semibold text-gray-900">{{ task.title }}</h4>
          <p class="text-sm text-gray-600">Duration: {{ task.duration }}</p>
          <p class="text-sm text-gray-500">Priority: {{ task.priority }}</p>

          <!-- Delete Button -->
          <button 
            (click)="delete(task.id)" 
            class="bg-red-500 text-white px-4 py-2 rounded-lg shadow-md hover:bg-red-600 mt-2">
            Delete
          </button>
        </div>
        
        <div *ngIf="doneTasks.length === 0" class="text-gray-500 text-center mt-4">
          No tasks available.
        </div>
      </div>
    </div>
  </div>
</div>
